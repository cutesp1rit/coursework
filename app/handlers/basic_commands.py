from aiogram.types import Message
from aiogram.filters import CommandStart, Command
from app.handlers import commands_router

# –∫–æ–º–∞–Ω–¥–∞ start
@commands_router.message(CommandStart())
async def cmd_start(message: Message):
    # –æ–ø–∏—Å–∞–Ω–∏–µ –±–æ—Ç–∞ –∏ –µ–≥–æ –∫–æ–º–∞–Ω–¥

    chat_type = message.chat.type

    if chat_type == 'private':
        text = (
            "üëã –ü—Ä–∏–≤–µ—Ç! –Ø –≥–æ–ª–æ—Å–æ–≤–æ–π –±–æ—Ç –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è —Ç–µ–∫—Å—Ç–∞ –≤ —Ä–µ—á—å.\n\n"
            "üîπ –û–∑–≤—É—á–∏–≤–∞—é —Å–æ–æ–±—â–µ–Ω–∏—è –∏ —Å–æ–∑–¥–∞—é –∞—É–¥–∏–æ–¥–∏–∞–ª–æ–≥–∏.\n"
            "üîπ –ú–æ–≥—É —Ä–∞–±–æ—Ç–∞—Ç—å —Å –≤–∞—à–∏–º –≥–æ–ª–æ—Å–æ–º, –µ—Å–ª–∏ –∑–∞–≥—Ä—É–∑–∏—Ç–µ –æ–±—Ä–∞–∑–µ—Ü.\n\n"
            "üìå –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:\n"
            "/help - –ü–æ–∫–∞–∑–∞—Ç—å —Å–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥\n"
            "/registration - –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è\n"
            "/vm - –û–∑–≤—É—á–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ\n"
            "/vd <–∫–æ–ª-–≤–æ —Å–æ–æ–±—â–µ–Ω–∏–π> - –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –¥–∏–∞–ª–æ–≥\n"
            "/change_voice - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–≤–æ–π –≥–æ–ª–æ—Å\n\n"
            "‚ùì –ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –≤–æ–ø—Ä–æ—Å—ã, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É /help"
        )

        await message.answer(text)
    elif chat_type in ['group', 'supergroup']:
        text = (
            "üëã –ü—Ä–∏–≤–µ—Ç! –Ø –≥–æ–ª–æ—Å–æ–≤–æ–π –±–æ—Ç –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è —Ç–µ–∫—Å—Ç–∞ –≤ —Ä–µ—á—å.\n\n"
            "üîπ –û–∑–≤—É—á–∏–≤–∞—é —Å–æ–æ–±—â–µ–Ω–∏—è –∏ —Å–æ–∑–¥–∞—é –∞—É–¥–∏–æ–¥–∏–∞–ª–æ–≥–∏.\n"
            "üîπ –ú–æ–≥—É —Ä–∞–±–æ—Ç–∞—Ç—å —Å –≤–∞—à–∏–º –≥–æ–ª–æ—Å–æ–º, –µ—Å–ª–∏ –∑–∞–≥—Ä—É–∑–∏—Ç–µ –æ–±—Ä–∞–∑–µ—Ü.\n\n"
            "üìå –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:\n"
            "/help - –ü–æ–∫–∞–∑–∞—Ç—å —Å–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥\n"
            "/registration - –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è\n"
            "/vm - –û–∑–≤—É—á–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ\n"
            "/vd <–∫–æ–ª-–≤–æ —Å–æ–æ–±—â–µ–Ω–∏–π> - –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –¥–∏–∞–ª–æ–≥\n"
            "/change_voice - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–≤–æ–π –≥–æ–ª–æ—Å\n\n"
            "‚ùì –ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –≤–æ–ø—Ä–æ—Å—ã, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É /help"
        )

        await message.answer(text)
    else:
        # –≤ —Ç–∞–∫–æ–º —Å–ª—É—á–∞–µ –Ω–µ —Ä–µ–∞–≥–∏—Ä—É–µ–º
        return

# –∫–æ–º–∞–Ω–¥–∞ help
@commands_router.message(Command('help'))
async def cmd_help(message: Message):
    # –≤–æ–∑–º–æ–∂–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã
    
    chat_type = message.chat.type

    if chat_type == 'private':
        # —ç—Ç–æ –ª–∏—á–Ω—ã–π —á–∞—Ç
        await message.reply("–≠—Ç–æ –ª–∏—á–Ω—ã–π —á–∞—Ç.")
    elif chat_type in ['group', 'supergroup']:
        # —ç—Ç–æ –≥—Ä—É–ø–ø–æ–≤–æ–π —á–∞—Ç
        await message.reply("–≠—Ç–æ –≥—Ä—É–ø–ø–æ–≤–æ–π —á–∞—Ç.")
    else:
        # –≤ —Ç–∞–∫–æ–º —Å–ª—É—á–∞–µ –Ω–µ —Ä–µ–∞–≥–∏—Ä—É–µ–º
        return